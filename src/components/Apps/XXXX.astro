---
import './button.css'
export interface Props extends astroHTML.JSX.HTMLAttributes {
    topText: string;
    bottomText: string;
    importCode: string;
}
const {topText,bottomText,importCode} = Astro.props as Props;
const CopyButton = createCopyButton(importCode, topText, bottomText);

    function handleClick(importCode: string) {
      navigator.clipboard.writeText(importCode);
    }
  
    function createCopyButton(importCode: string, topText: string, bottomText: string) {
      const button = document.createElement('button');
      button.classList.add('copy-button');
      button.addEventListener('click', () => handleClick(importCode));
  
      const icon = document.createElement('div');
      icon.classList.add('copy-button__icon');
      const iconContent = document.createElement('i');
      iconContent.classList.add('fa-solid', 'fa-copy');
      icon.appendChild(iconContent);
  
      const text = document.createElement('div');
      text.classList.add('copy-button__text');
      const topTextEl = document.createElement('div');
      topTextEl.classList.add('copy-button__top-text');
      topTextEl.innerText =(topText);
      const bottomTextEl = document.createElement('div');
      bottomTextEl.classList.add('copy-button__bottom-text');
      bottomTextEl.innerText = bottomText;
      text.appendChild(topTextEl);
      text.appendChild(bottomTextEl);
  
      button.appendChild(icon);
      button.appendChild(text);
  
      return button;
    }
  
---
<CopyButton>{CopyButton}</CopyButton>
